<div class="products">
    {{#products}}
    <div class="product-item">
        <img class="product-image" src="/images/products/{{imageUrl}}" alt="{{name}}">

        <!-- Title only in the middle -->
        <div class="product-info">
            <h3>{{name}}</h3>
        </div>

        <!-- Price + button grouped together on the right -->
        <div class="product-actions">
            <p class="price">${{price}}</p>
            <button onclick="addToCart({{productId}}, 1)">
                Add to Cart
            </button>
        </div>
    </div>
    {{/products}}
</div>

<script>
    async function addToCart(productId, quantity) {
        const response = await fetch(`/cart/${productId}?quantity=${quantity}`, {
            method: 'POST'
        });
        console.log("Response:", response.status);
        if (response.ok) {
            alert("Item added to cart!");
        } else {
            alert("Failed to add item.");
        }
    }
</script>